(this["webpackJsonpbravo-soft-test"]=this["webpackJsonpbravo-soft-test"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(11),o=n.n(r),s=n(4),i=n(5),u="https://609f63e2c512c20017dcd2bd.mockapi.io/api/v1",l=function(e){return e.ok?e.json():Promise.reject({error:e.status,message:e.message})},j=function(){return e="users",fetch("".concat(u,"/").concat(e),{method:"GET"}).then((function(e){return l(e)}));var e},b=function(e,t){return function(e,t){return fetch("".concat(u,"/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(Object(i.a)({},t))}).then((function(e){return l(e)}))}("users/".concat(e),t)},d=function(e){return t="users/".concat(e),fetch("".concat(u,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return l(e)}));var t},m=function(e){return function(e,t){return fetch("".concat(u,"/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(Object(i.a)({},t))}).then((function(e){return l(e)}))}("users",e)},f=(n(17),n(2)),O=n(9),h=n(12),_=(n(19),n(1)),p=function(e){var t=e.className,n=void 0===t?"":t,c=e.handleClick,a=e.type,r=void 0===a?"text":a,o=e.typeBtn,s=void 0===o?"button":o,u=e.children,l=e.load,j=void 0!==l&&l,b=Object(h.a)(e,["className","handleClick","type","typeBtn","children","load"]);return Object(_.jsx)("button",Object(i.a)(Object(i.a)({},b),{},{onClick:function(){c&&c()},type:s,className:"".concat(n," button"),children:Object(_.jsx)("div",{className:"button__type button__type_".concat(j?"load":r),children:u})}))},v=(n(21),function(e){var t=e.className,n=void 0===t?"":t,c=e.inputName;return Object(_.jsx)("p",{className:"".concat(n," input-error"),children:"".concat(c," \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")})}),N=(n(22),function(e){var t=e.className,n=e.data,a=e.header,r=void 0!==a&&a,o=e.editData,u=e.row,l=e.removeData,j=Object(O.a)(),b=j.register,d=j.handleSubmit,m=j.formState.errors,h=Object(c.useState)(!1),N=Object(s.a)(h,2),x=N[0],y=N[1],w=Object(c.useState)(!1),g=Object(s.a)(w,2),S=g[0],k=g[1],D=Object(c.useState)(!1),C=Object(s.a)(D,2),F=C[0],T=C[1],B=Object(c.useState)(!1),E=Object(s.a)(B,2),L=E[0],P=E[1];return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"".concat(t," row"),onMouseMove:function(){return y(!0)},onMouseLeave:function(){S||y(!1)},children:[!S&&Object(_.jsx)("div",{className:"".concat(r?"row__container_header":""," row__container"),children:Object(f.a)(Object.values(n)).map((function(e,t){return Object(_.jsx)("div",{className:"row__cell",children:Object(_.jsx)("p",{className:"row__content",children:e})},t)}))}),S&&Object(_.jsx)("form",{id:"save".concat(u),onSubmit:d((function(e){T(!0),o(Object(i.a)({id:n.id},e)).then((function(){return k(!1)})).finally((function(){return T(!1)}))})),className:"".concat(r?"row__container_header":""," row__container"),children:Object(f.a)(Object.values(n)).map((function(e,t){return Object(_.jsx)("div",{className:"row__cell",children:0===t?Object(_.jsx)("p",{className:"row__content",children:e}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("input",Object(i.a)({className:"row__content row__input",defaultValue:e},b(Object(f.a)(Object.keys(n))[t],{validate:function(e){return e.length>2}}))),m[Object(f.a)(Object.keys(n))[t]]&&Object(_.jsx)(v,{className:"row__input-error",inputName:Object(f.a)(Object.keys(n))[t]})]})},t)}))}),x&&!r&&Object(_.jsxs)("div",{className:"row__button-container",children:[!S&&Object(_.jsx)(p,{handleClick:function(){k(!0)},type:"edit"}),S&&Object(_.jsx)(p,{load:F,form:"save".concat(u),typeBtn:"submit",type:"save"}),Object(_.jsx)(p,{load:L,handleClick:function(){P(!0),l(n.id).finally((function(){return P(!1)}))},type:"delete"})]})]})})}),x=function(e){var t=e.tableData,n=e.editData,c=e.removeData;return Object(_.jsx)("div",{className:"table",children:Object(_.jsxs)("div",{className:"table__container",children:[Object(_.jsx)(N,{className:"table__row",data:["Number","First name","Last name","City"],header:!0}),t.map((function(e,t){return Object(_.jsx)(N,{className:"table__row",row:t,data:e,editData:n,removeData:c},e.id)}))]})})},y=(n(23),n(24),function(e){var t=e.input,n=e.createData,a=Object(O.a)(),r=a.register,o=a.handleSubmit,u=a.formState.errors,l=Object(c.useState)(!1),j=Object(s.a)(l,2),b=j[0],d=j[1],m=Object.keys(t[0]).slice(1);console.log("errors",u);return Object(_.jsxs)("div",{className:"formuser",children:[!b&&Object(_.jsx)(p,{handleClick:function(){d(!0)},className:"formuser__btn",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),b&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(p,{form:"newUser",typeBtn:"submit",className:"formuser__btn",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(_.jsx)("form",{id:"newUser",onSubmit:o((function(e){n(e).then((function(){return d(!1)}))})),className:"formuser__form",children:m.map((function(e,t){return Object(_.jsxs)("span",{children:[Object(_.jsx)("input",Object(i.a)({className:"formuser__input",placeholder:e},r(e,{validate:function(e){return e.length>2}}))),u[e]&&Object(_.jsx)(v,{className:"formuser__input-error",inputName:e})]},t)}))})]})]})}),w=(n(25),function(){return Object(_.jsx)("div",{className:"error",children:Object(_.jsx)("h3",{className:"error__title",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."})})}),g=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(s.a)(r,2),i=o[0],u=o[1];Object(c.useEffect)((function(){l()}),[]);var l=function(){return j().then((function(e){return a(e)})).catch((function(e){u(!0),console.error(e)}))};return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"main",children:[!n&&!i&&Object(_.jsx)("h1",{className:"main__title main__title_load",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."}),n&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h1",{className:"main__title",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),Object(_.jsx)("div",{className:"main__btn-container",children:Object(_.jsx)(y,{input:n,createData:function(e){var t=e.firstName,n=e.lastName,c=e.city;return m({firstName:t,lastName:n,city:c}).then((function(){return l()})).catch((function(e){u(!0),console.error(e)}))}})}),Object(_.jsx)("section",{className:"main__content",children:Object(_.jsx)(x,{tableData:n,editData:function(e){var t=e.id,n=e.firstName,c=e.lastName,a=e.city;return b(t,{firstName:n,lastName:c,city:a}).then((function(){return l()})).catch((function(e){u(!0),console.error(e)}))},removeData:function(e){return d(e).then((function(){return l()})).catch((function(e){u(!0),console.error(e)}))}})})]}),i&&Object(_.jsx)(w,{error:i})]})})};var S=function(){return Object(_.jsx)(g,{})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(S,{})}),document.getElementById("root")),k()}],[[26,1,2]]]);
//# sourceMappingURL=main.92848ac7.chunk.js.map